# 数据库基础
# mysql命令行实用程序

* mysql -h 主机名 -u 用户名 -p
* mysql root -p root
* use LearnMysql
* system clear;

# 检索数据
# 排序检索数据
*  select prod_price from products order by prod_price desc limit 1,1; 
* order by 子句的位置 在给出 order by 子句时,应该保证它位于 from 子句之后,如果使用 limit,它必须位于order by之后。使用子句的次序不对将产生的错误消息。
# 过滤数据
* 使用where子句

* where子句的操作符
* = 等于   ！= 不等于  <小于  <=小于等于 >大于 >=大于等于 between and两个值之间
* select prod_name,prod_price from products where prod_price between and 10;

# 数据过滤
* 组合where子句
* 为了进行更强的过滤控制,mysql允许给出多个 where子句。这些个子句可以两种方式使用： 以 and 子句的方式 或 or 子句的方式使用
* select prod_name,prod_price from products where (vend_id = 1002 or vend_id =1003) and prod_price>=10;

# 用通配符进行过滤


# 创建计算字段

```
select concat(vend_name,'(',vend_country,')') from vendors order by vend_name;

select concat(rtrim(vend_name),'(',rtrim(vend_country),')') vend_title from vendors order by vend_name;

select prod_id quantity,item_price,quantity*item_price as expanded_price from orderitems where order_num = 2005

```
* mysql 支持  + -  * /

# 使用数据处理函数

* 文本处理
* 日期时间 

# 汇总数据
* avg
* count
* max
* min
* sum

# 分组数据 重难点

#  使用子查询   重难点

# 连接表

* vendors表包含所有供应商信息,每个供应商占一行,每个供应商具有唯一的标示。此标示称为 主健 
* products表只存储产品信息,它除了存储供应商ID （vendors 表的主健）外不存储其他供应商信息。
* vendors表的主键 又叫做 products的外健,它将 vendors表与 products表关联,利用供应商ID能从vendors表中找相对应供应商的详细信息。


* `维护引用完整性,它是通过在表的定义中指定 主键和外健来实现的`

```

select vend_name,prod_name,prod_price from vendors,products 
where vendors.vend_id = products.vend_id  order by vend_name,prod_name;



select vend_name,prod_name,prod_price from vendors inner join products on vendors.vend_id = products.vend_id;

```

# 创建高级联结 重难点

# 组合查询

# 全文本搜索


# 插入数据
* update delete

# 创建和操作表

# 使用视图
* 视图的作用,它不包含表中应该有的任何列或数据,它包含的是一个sql查询。


```
create view productcustomers as select cust_name,cust_concat,prod_id 
from customers,orders,orderitems where customers.cust_id = order.cust_id
and orderitems.order_num = orders.order_nums


select * from productcustomers

```

# 使用存储过程
* 存储过程简单来说, 就是为以后的使用而保存的一条或多条mysql语句的集合。
* 可将其视为批文件,虽然它们的作用不仅限于批处理。

# 使用游标
* 有时，需要在检索出来的行中前进或后退一行或多行。这就是使用游标的原因。

* 游标主要用于交互式应用,其中用户需要滚动屏幕上的数据,并对数据进行浏览或者作出更改。
# 触发器
* 触发器是mysql响应以下任意语句而自动执行的一条mysql语句。


# 管理事物处理
* 事物处理可以用来维护数据库的完整性,它保证成批的mysql操作要么完全执行,要么完全不执行。

* 关于事物处理需要知道的几个术语
    - 事物 transaction指一组sql语句
    - 回退 rollback 指撤销指定sql语句的过程
    - 提交 commit 指将未存储的sql语句结果写入数据库表
    - 保留点 savepoint 指事物处理中设置的零时占位符。


 ```
select * from ordertotals

start transaction；
delete from ordertotals;
select * from ordertotals;
rollback;
select * from ordertotals;


 ```   ˜

 # 全球化和本地化

 # 安全管理

 # 数据库维护
 * 备份数据